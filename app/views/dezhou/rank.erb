
<style type="text/css">

body {
  margin:0 auto;
  width:1000px;
}

table {
display: table;
border-collapse: separate;
border-spacing: 2px;
border-color: gray;
border-collapse: collapse;
}

table tr td {
  border: 1px solid #98bf21;
}

td, th {
display: table-cell;
vertical-align: inherit;
}

a {
  text-decoration:none;
}

</style>

<br>
<div>
<a href="/">德州扑克</a> / <a href="/<%= params[:playerSum] %>"><%= params[:playerSum] %>人桌模拟局 </a> / <a href="/<%= params[:playerSum] %>/rank"><%= params[:playerSum] %>人桌手牌胜率排行榜</a>
</div>
<br>

<% if @search_results and @search_results.length > 0 %>

  <br>

  <table class='table-striped' style='text-align:center;line-height:30px;'>
  <tr>
    <td>&nbsp;名次/总数&nbsp;</td>
    <td>&nbsp;牌值&nbsp;</td>
    <td>&nbsp;同花&nbsp;</td>
    <td>&nbsp;次 数&nbsp;</td>
    <td>&nbsp;&nbsp;</td>
    <td>&nbsp;第一名&nbsp;</td>
    <td>&nbsp;第二名&nbsp;</td>
    <td>&nbsp;第三名&nbsp;</td>
    <td>&nbsp;&nbsp;</td>
    <td>&nbsp;第一名&nbsp;</td>
    <td>&nbsp;第二名&nbsp;</td>
    <td>&nbsp;第三名&nbsp;</td>
    <td>&nbsp;&nbsp;</td>
    <td>&nbsp;第一名&nbsp;</td>
    <td>&nbsp;第二名&nbsp;</td>
    <td>&nbsp;第三名&nbsp;</td>
  </tr>
  <% @search_results.each do |result| %>
  <% report = result[:report] %>
  <tr>
    <td><%= "#{result[:rank]}/#{@reports_length}" %></td>
    <td><%= report.playerPokers %></td>
    <td>
      <% if report.isPlayerPokersFlush %>
        <span style='color:green;font-weight:bold;'>OK</span>
      <% else %>
        <span style='color:red;font-weight:bold;'>NO</span>
      <% end %>
    </td>
    <td><%= report.allGameTimes %></td>
    <td></td>
    <td style='cursor:pointer;' title="     <%= report.riverWinnerTimes %>">&nbsp;<%= ((report.riverWinnerTimes*1.0/report.allGameTimes)*100).round(1) %>%&nbsp;</td>
    <td style='cursor:pointer;' title="     <%= report.riverSecondPlaceTimes %>">&nbsp;<%= ((report.riverSecondPlaceTimes*1.0/report.allGameTimes)*100).round(1) %>%&nbsp;</td>
    <td style='cursor:pointer;' title="     <%= report.riverThirdPlaceTimes %>">&nbsp;<%= ((report.riverThirdPlaceTimes*1.0/report.allGameTimes)*100).round(1) %>%&nbsp;</td>
    <td>&nbsp;&nbsp;</td>
    <td style='cursor:pointer;' title="     <%= report.turnWinnerTimes %>">&nbsp;<%= ((report.riverWinnerTimes*1.0/report.allGameTimes)*100).round(1) %>%&nbsp;</td>
    <td style='cursor:pointer;' title="     <%= report.turnSecondPlaceTimes %>">&nbsp;<%= ((report.riverWinnerTimes*1.0/report.allGameTimes)*100).round(1) %>%&nbsp;</td>
    <td style='cursor:pointer;' title="     <%= report.turnThirdPlaceTimes %>">&nbsp;<%= ((report.riverWinnerTimes*1.0/report.allGameTimes)*100).round(1) %>%&nbsp;</td>
    <td>&nbsp;&nbsp;</td>
    <td style='cursor:pointer;' title="     <%= report.flopWinnerTimes %>">&nbsp;<%= ((report.flopWinnerTimes*1.0/report.allGameTimes)*100).round(1) %>%&nbsp;</td>
    <td style='cursor:pointer;' title="     <%= report.flopSecondPlaceTimes %>">&nbsp;<%= ((report.flopSecondPlaceTimes*1.0/report.allGameTimes)*100).round(1) %>%&nbsp;</td>
    <td style='cursor:pointer;' title="     <%= report.flopThirdPlaceTimes %>">&nbsp;<%= ((report.flopThirdPlaceTimes*1.0/report.allGameTimes)*100).round(1) %>%&nbsp;</td>
  </tr>

  <% end %>
  </table>

<% end %>

<br>

<h3><%= params[:playerSum] %>人桌手牌胜率排行榜</h3>

<br>
<table class='table-striped' style='text-align:center;line-height:30px;'>
<tr style='font-weight:bold;'>
  <td><%= @reports_length %></td>
  <td colspan='3'>手牌胜率排行榜</td>
  <td colspan='1'></td>
  <td colspan='3'>河牌阶段统计</td>
  <td colspan='1'></td>
  <td colspan='3'>转牌阶段统计</td>
  <td colspan='1'></td>
  <td colspan='3'>翻牌阶段统计</td>
</tr>
<tr>
  <td>&nbsp;名次&nbsp;</td>
  <td>&nbsp;牌值&nbsp;</td>
  <td>&nbsp;同花&nbsp;</td>
  <td>&nbsp;次 数&nbsp;</td>
  <td>&nbsp;&nbsp;</td>
  <td>&nbsp;第一名&nbsp;</td>
  <td>&nbsp;第二名&nbsp;</td>
  <td>&nbsp;第三名&nbsp;</td>
  <td>&nbsp;&nbsp;</td>
  <td>&nbsp;第一名&nbsp;</td>
  <td>&nbsp;第二名&nbsp;</td>
  <td>&nbsp;第三名&nbsp;</td>
  <td>&nbsp;&nbsp;</td>
  <td>&nbsp;第一名&nbsp;</td>
  <td>&nbsp;第二名&nbsp;</td>
  <td>&nbsp;第三名&nbsp;</td>
</tr>
<% @reports.each_with_index do |report,index| %>
<tr>
  <td><%= index+1 %></td>
  <td><%= report.playerPokers %></td>
  <td>
    <% if report.isPlayerPokersFlush %>
      <span style='color:green;font-weight:bold;'>YS</span>
    <% else %>
      <span style='color:red;font-weight:bold;'>NO</span>
    <% end %>
  </td>
  <td><%= report.allGameTimes %></td>
  <td></td>
  <td style='cursor:pointer;' title="     <%= report.riverWinnerTimes %>">&nbsp;<%= ((report.riverWinnerTimes*1.0/report.allGameTimes)*100).round(1) %>%&nbsp;</td>
  <td style='cursor:pointer;' title="     <%= report.riverSecondPlaceTimes %>">&nbsp;<%= ((report.riverSecondPlaceTimes*1.0/report.allGameTimes)*100).round(1) %>%&nbsp;</td>
  <td style='cursor:pointer;' title="     <%= report.riverThirdPlaceTimes %>">&nbsp;<%= ((report.riverThirdPlaceTimes*1.0/report.allGameTimes)*100).round(1) %>%&nbsp;</td>
  <td>&nbsp;&nbsp;</td>
  <td style='cursor:pointer;' title="     <%= report.turnWinnerTimes %>">&nbsp;<%= ((report.riverWinnerTimes*1.0/report.allGameTimes)*100).round(1) %>%&nbsp;</td>
  <td style='cursor:pointer;' title="     <%= report.turnSecondPlaceTimes %>">&nbsp;<%= ((report.riverWinnerTimes*1.0/report.allGameTimes)*100).round(1) %>%&nbsp;</td>
  <td style='cursor:pointer;' title="     <%= report.turnThirdPlaceTimes %>">&nbsp;<%= ((report.riverWinnerTimes*1.0/report.allGameTimes)*100).round(1) %>%&nbsp;</td>
  <td>&nbsp;&nbsp;</td>
  <td style='cursor:pointer;' title="     <%= report.flopWinnerTimes %>">&nbsp;<%= ((report.flopWinnerTimes*1.0/report.allGameTimes)*100).round(1) %>%&nbsp;</td>
  <td style='cursor:pointer;' title="     <%= report.flopSecondPlaceTimes %>">&nbsp;<%= ((report.flopSecondPlaceTimes*1.0/report.allGameTimes)*100).round(1) %>%&nbsp;</td>
  <td style='cursor:pointer;' title="     <%= report.flopThirdPlaceTimes %>">&nbsp;<%= ((report.flopThirdPlaceTimes*1.0/report.allGameTimes)*100).round(1) %>%&nbsp;</td>
</tr>

<% end %>
</table>






